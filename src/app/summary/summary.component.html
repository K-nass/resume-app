<div class="container-md mt-3">
    <div class="container py-5">
        <form>
            <fieldset class="border p-4 rounded shadow-sm">
                <legend class="float-none w-auto px-2">Professional Summary</legend>

                <div class="row mb-3">
                    <div class="col-12">
                        <label for="summary" class="form-label">Summary</label>
                        <textarea [(ngModel)]="summary" (input)="onUpdateSummary()" id="summary" name="summary"
                            class="form-control"
                            placeholder="Write a short professional summary or generate one with AI...">
                        </textarea>
                    </div>
                </div>

                <!-- <div class="row mb-3">
                    <div class="col-12 text-end">
                        <button (click)="generateWithAI()" type="button" class="btn btn-outline-secondary me-2">
                            ✨ Generate with AI
                        </button>
                    </div>
                    <div *ngIf="enhancedText || loading" class="accordion-body">
                        <div *ngIf="loading" class="d-flex align-items-center">
                            <div class="spinner-border text-secondary me-2" role="status"
                                style="width: 1.5rem; height: 1.5rem;">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <span>Generating summary...</span>
                        </div>

                        <p *ngIf="!loading" class="mb-0">{{ enhancedText}}</p>
                    </div>
                </div> -->

                <div class="row mb-4">
                    <div class="col-12 text-end">
                        <button (click)="generateWithAI()" type="button"
                            class="btn btn-outline-primary btn-sm shadow-sm">
                            ✨ Generate with AI
                        </button>
                    </div>

                    <div *ngIf="enhancedText || loading" class="col-12 mt-3">
                        <div *ngIf="loading"
                            class="d-flex align-items-center bg-light rounded px-3 py-2 shadow-sm border">
                            <div class="spinner-border text-primary me-3" role="status"
                                style="width: 1.5rem; height: 1.5rem;">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <strong>Generating summary...</strong>
                        </div>

                        <div *ngIf="!loading" class="bg-light rounded p-3 shadow-sm border text-dark">
                            <p class="mb-0" style="white-space: pre-line;">{{ enhancedText }}</p>
                        </div>
                    </div>
                </div>

            </fieldset>
        </form>
    </div>
</div>